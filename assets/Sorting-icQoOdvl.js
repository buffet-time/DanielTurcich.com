import{d as U,k as V,f as j,c as C,o as F,r as p,a as S,e as D,t as O,w as A,v as P,l as G,F as H,b as Q,m as $}from"./index-l9dh7dr-.js";async function L(o,w,f,h){async function c(l){if(o.stopExecution)return[];if(l.length<2)return l;const r=Math.floor(l.length/2);return n(await c(l.slice(0,r)),await c(l.slice(r)))}async function n(l,r){const g=[];let b=0,s=0;for(;b<l.length&&s<r.length;){if(l[b].height<r[s].height){g.push(l[b]),b++;continue}g.push(r[s]),s++}const d=[...g,...l.slice(b),...r.slice(s)],R=d.map(u=>(f(u),{x:u.x,frequency:u.frequency})).sort((u,x)=>u.x-x.x);for(let u=0;u<R.length;u++)d[u].x=R[u].x,d[u].frequency=R[u].frequency;const M=[],v=d.map(u=>u.height);v.forEach(u=>M.push(w.findIndex(x=>x.height===d[v.findIndex(k=>k===u)].height)));for(let u=0;u<d.length;u++){if(o.stopExecution)return[];await h(M[u])}return d}await c(w)}async function W(o,w,f){let h=0;await c(0,o.length-1);async function c(l,r){h=await n(l,r),!w.stopExecution&&(l<h-1&&await c(l,h-1),h<r&&await c(h,r))}async function n(l,r){const g=o[Math.floor((r+l)/2)];for(;l<=r;){if(w.stopExecution)return 0;for(;o[l].height<g.height;)l++;for(;o[r].height>g.height;)r--;l<=r&&await f(l,r),l++,r--}return l}}async function X(o,w,f){await n(o);function c(l){return l==1?l:Math.floor(l/1.25)}async function n(l){if(w.stopExecution){console.log(1);return}const r=Number(w.numberOfRectangles);let g=r,b=!0;for(;g!=1||b==!0;){if(w.stopExecution)return;g=c(g),b=!1;for(let s=0;s<r-g;s++)l[s].height>l[s+g].height&&(await f(s,s+g),b=!0)}}}const J={id:"canvas",class:"w-[calc(100vw_-_288px)]"},K=U({__name:"SortingVisualization",props:{algorithm:{},startSortingMethod:{type:Boolean}},emits:["randomizeArrayDone","sortingMethodEnded","audioForRandomizing","sortingMethodStarted","sortingMethodEndedBools","sortingMethodStartedBools","beep"],setup(o,{emit:w}){const f=w;let h,c,n=[];V(()=>o.algorithm.randomizeArray,async e=>{e&&(f("sortingMethodStartedBools"),f("audioForRandomizing"),h.fillStyle="#303030",h.fillRect(0,0,c.width,c.height),h.fillStyle="#0F0",g(),await s(),o.algorithm.oscillator.disconnect(),f("sortingMethodEndedBools"),f("randomizeArrayDone"))}),V(()=>o.startSortingMethod,async()=>{if(o.startSortingMethod){switch(f("sortingMethodStarted"),o.algorithm.sortingMethod){case"Bubble":await k();break;case"Cocktail Shaker":await I();break;case"Heap":await N();break;case"Insertion":await z();break;case"Merge":await L(o.algorithm,n,v,u);break;case"Quick":await W(n,o.algorithm,d);break;case"Selection":await T();break;case"Shell":await B();break;case"Gnome":await E();break;case"Bogo":await q();break;case"Comb":await X(n,o.algorithm,d);break}f("sortingMethodEnded")}}),j(async()=>{f("sortingMethodStartedBools"),c=document.getElementById("canvas"),c.setAttribute("height",String(window.innerHeight-64)),c.setAttribute("width",String(window.innerWidth-300)),h=c.getContext("2d"),l(),h.fillStyle="#0F0",g(),await s(),f("sortingMethodEndedBools")});function l(){c.setAttribute("height",String(Number(getComputedStyle(c).getPropertyValue("height").slice(0,-2))*window.devicePixelRatio)),c.setAttribute("width",String(Number(getComputedStyle(c).getPropertyValue("width").slice(0,-2))*window.devicePixelRatio))}function r(e,t){[n[e].x,n[t].x,n[e].frequency,n[t].frequency,n[e],n[t]]=[n[t].x,n[e].x,n[t].frequency,n[e].frequency,n[t],n[e]]}function g(){n=[];const e=c.width/Number(o.algorithm.numberOfRectangles),t=c.height/Number(o.algorithm.numberOfRectangles),a=100,m=1e4/Number(o.algorithm.numberOfRectangles);for(let y=0;y<Number(o.algorithm.numberOfRectangles);y++)n.push({x:e*y,y:c.height-t*(y+1),width:e-1,height:t*(y+1),frequency:m*y+a});for(let y=0;y<Number(o.algorithm.numberOfRectangles)*10;y++)b()}function b(){const e=Math.floor(Math.random()*Number(o.algorithm.numberOfRectangles));let t=0;do t=Math.floor(Math.random()*Number(o.algorithm.numberOfRectangles));while(e===t);r(e,t)}async function s(){for(let e=0;e<Number(o.algorithm.numberOfRectangles);e++)await R(e,!0);await x(0)}async function d(e,t){M(e),M(t),r(e,t),await u(e),await u(t)}async function R(e,t){function a(){h.fillRect(n[e].x,n[e].y,n[e].width,n[e].height)}t?queueMicrotask(()=>{a()}):(a(),await x(Number(o.algorithm.sleepTime)))}function M(e){h.fillStyle="#303030",h.fillRect(n[e].x-1,n[e].y-1,n[e].width+2,n[e].height+2),h.fillStyle="#0F0"}function v(e){h.fillStyle="#303030",h.fillRect(e.x-1,e.y-1,e.width+2,e.height+2),h.fillStyle="#0F0"}async function u(e){f("beep",n[e].frequency),await R(e)}function x(e){return new Promise(t=>setTimeout(t,e))}async function k(){const e=n.length;let t=!1,a=0,i=0;do for(a++,t=!1,i=0;i<e-a;i++){if(o.algorithm.stopExecution)return;n[i].height>n[i+1].height&&(await d(i,i+1),t=!0)}while(t)}async function z(){const e=n.length;let t=0,a;for(let i=1;i<e;i++){for(a=n[i],t=i-1;t>=0&&n[t].height>a.height;t--){if(o.algorithm.stopExecution)return;await d(t,t+1)}n[t+1]=a}}async function T(){let e=0,t=0;for(let a=0;a<n.length;a++){for(e=a,t=a+1;t<n.length;t++){if(o.algorithm.stopExecution)return;n[t].height<n[e].height&&(e=t)}e!==a&&await d(a,e)}}async function I(){let e=!1,t=0;for(;!e;){for(e=!0;t<n.length-1;){if(o.algorithm.stopExecution)return;n[t].height>n[t+1].height&&(await d(t,t+1),e=!1),t++}if(e)break;for(e=!0;t>0;){if(o.algorithm.stopExecution)return;n[t-1].height>n[t].height&&await d(t,t-1),e=!1,t--}}}async function N(){async function e(t,a){let i=a;const m=2*a+1,y=2*a+2;o.algorithm.stopExecution||(m<t&&n[m].height>n[i].height&&(i=m),y<t&&n[y].height>n[i].height&&(i=y),i!=a&&(await d(a,i),await e(t,i)))}for(let t=Math.floor(n.length/2-1);t>=0;t--){if(o.algorithm.stopExecution)return;await e(n.length,t)}for(let t=n.length-1;t>=0;t--){if(o.algorithm.stopExecution)return;await d(0,t),await e(t,0)}}async function B(){let e=0,t=0;for(let a=Math.floor(n.length/2);a>0;a=Math.floor(a/2))for(t=a;t<n.length;t+=1){const i=n[t];for(e=t;e>=a&&n[e-a].height>i.height;e-=a){if(o.algorithm.stopExecution)return;await d(e,e-a)}n[e].x=i.x,n[e]=i}}async function E(){for(let e=1;e<n.length;e++)if(n[e-1].height>n[e].height)for(;e>0&&n[e-1].height>n[e].height;){if(o.algorithm.stopExecution)return;await d(e,e-1),e--}}async function q(){function e(){for(let a=1;a<n.length;a++)if(n[a-1].height>n[a].height)return!0;return!1}async function t(){for(let a=0;a<Number(o.algorithm.numberOfRectangles);a++)M(a);for(let a=0;a<Number(o.algorithm.numberOfRectangles);a++)b();for(let a=0;a<Number(o.algorithm.numberOfRectangles);a++)await u(a)}for(;e();){if(o.algorithm.stopExecution)return;await t()}}return(e,t)=>(F(),C("canvas",J))}}),Y={class:"flex h-[calc(100vh_-_64px)]"},Z={class:"flex flex-col justify-center items-center gap-2 w-72"},_={class:"flex flex-col"},ee=S("div",{class:"p-4"}," Currently a few bugs, refactoring and updating this right now :) ",-1),te=["disabled"],ne={class:"flex flex-col justify-center items-center gap-2"},ae={class:"flex gap-2"},oe=["disabled"],ie=["disabled"],le=["value"],se=U({__name:"Sorting",setup(o){const w=p(0),f=p(.025),h=p(!1),c=p(!1),n=p(!0),l=p(100),r=p(!1),g=p(!1),b=p(!1),s=p(),d=p("Quick"),R=p(["Bubble","Insertion","Cocktail Shaker","Selection","Merge","Quick","Heap","Shell","Gnome","Bogo","Comb"]),M=p(!1);let v,u=!1,x;V(l,()=>{E(),r.value=!0}),V(f,()=>{if(E(),r.value){s.value?.disconnect(),x.gain.setValueAtTime(f.value,v.currentTime),s.value?.connect(x).connect(v.destination);return}x.gain.setValueAtTime(f.value,v.currentTime)});async function k(){h.value=!0,s.value?.disconnect(),await z(500),h.value=!1,s.value?.disconnect(),B()}function z(a){return new Promise(i=>setTimeout(i,a))}function T(){E(),s.value?.connect(x).connect(v.destination),N()}function I(){s.value?.disconnect(),B(),M.value=!1}function N(){b.value=!0,g.value=!0,r.value=!0,n.value=!1}function B(){b.value=!1,g.value=!1,r.value=!1,n.value=!0}function E(){u||(v=new AudioContext,x=new GainNode(v,{gain:f.value}),s.value=new OscillatorNode(v,{type:"sine",frequency:500}),s.value.start(),s.value.connect(v.destination),s.value.disconnect(),u=!0)}function q(a){s.value?.frequency.setValueAtTime(a,v.currentTime)}function e(){E(),s.value?.connect(x).connect(v.destination),q(300)}function t(){M.value||(M.value=!0)}return(a,i)=>(F(),C("div",Y,[S("div",Z,[S("div",_,[ee,S("div",null,[D(" Volume: "+O(parseFloat((f.value*5*100).toFixed(1)))+"% ",1),A(S("input",{"onUpdate:modelValue":i[0]||(i[0]=m=>f.value=m),class:"w-64 h-6 bg-transparent",type:"range",min:"0",max:"0.2",step:"0.0001"},null,512),[[P,f.value]])]),S("div",null,[D(" Add extra Delay of: "+O(w.value)+"ms ",1),A(S("input",{"onUpdate:modelValue":i[1]||(i[1]=m=>w.value=m),class:"w-64 h-6 bg-transparent",type:"range",min:"0",max:"250",step:"5"},null,512),[[P,w.value]])]),S("div",null,[D(O(l.value)+" Rectangles ",1),A(S("input",{"onUpdate:modelValue":i[2]||(i[2]=m=>l.value=m),class:"w-64 h-6 bg-transparent",type:"range",min:"5",max:"1000",step:"5",disabled:b.value},null,8,te),[[P,l.value]])])]),S("div",ne,[S("div",ae,[S("button",{class:"tw-button h-[50px] w-[130px] p-0",disabled:n.value,onClick:k}," Stop Execution ",8,oe),S("button",{class:"tw-button h-[50px] w-[130px] p-0",disabled:g.value,onClick:i[3]||(i[3]=m=>c.value=!0)}," Randomize ",8,ie)]),A(S("select",{"onUpdate:modelValue":i[4]||(i[4]=m=>d.value=m),class:"tw-music-select h-12"},[(F(!0),C(H,null,Q(R.value,(m,y)=>(F(),C("option",{key:y,value:m},O(m),9,le))),128))],512),[[G,d.value]]),S("button",{class:"tw-button h-[50px] w-[130px] p-0",onClick:t}," Start sort ")])]),$(K,{algorithm:{sleepTime:w.value,stopExecution:h.value,randomizeArray:c.value,oscillator:s.value,numberOfRectangles:l.value,sortingMethod:d.value},"start-sorting-method":M.value,onSortingMethodStartedBools:N,onSortingMethodEndedBools:B,onSortingMethodStarted:T,onAudioForRandomizing:e,onSortingMethodEnded:I,onRandomizeArrayDone:i[5]||(i[5]=m=>c.value=!1),onBeep:q},null,8,["algorithm","start-sorting-method"])]))}});export{se as default};
//# sourceMappingURL=Sorting-icQoOdvl.js.map
