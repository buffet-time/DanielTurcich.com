import{d as K,k as D,f as Z,c as T,o as I,r as w,a as y,e as G,t as z,w as Q,v as L,F as _,b as ee,l as te}from"./index-1d3571a3.js";const ne={id:"canvas",class:"w-[calc(100vw_-_288px)]"},ae=K({__name:"SortingVisualization",props:{algorithm:{}},emits:["randomizeArrayDone","sortingMethodEnded","audioForRandomizing","sortingMethodStarted","sortingMethodEndedBools","sortingMethodStartedBools","beep"],setup(i,{emit:M}){const r=M;let c,s,n=[],v=0;D(()=>i.algorithm.randomizeArray,async e=>{e&&(r("sortingMethodStartedBools"),r("audioForRandomizing"),c.fillStyle="#303030",c.fillRect(0,0,s.width,s.height),c.fillStyle="#0F0",E(),await k(),i.algorithm.oscillator.disconnect(),r("sortingMethodEndedBools"),r("randomizeArrayDone"))}),D(()=>i.algorithm.sortingMethod,async e=>{switch(r("sortingMethodStarted"),e){case"Bubble":await P();break;case"Cocktail Shaker":await N();break;case"Heap":await d();break;case"Insertion":await $();break;case"Merge":n=await F(n);break;case"Quick":await S(0,n.length-1);break;case"Selection":await O();break;case"Shell":await j();break;case"Gnome":await W();break}r("sortingMethodEnded")}),Z(async()=>{r("sortingMethodStartedBools"),s=document.getElementById("canvas"),s.setAttribute("height",String(window.innerHeight-64)),s.setAttribute("width",String(window.innerWidth-300)),c=s.getContext("2d"),p(),c.fillStyle="#0F0",E(),await k(),r("sortingMethodEndedBools")});function p(){s.setAttribute("height",String(Number(getComputedStyle(s).getPropertyValue("height").slice(0,-2))*window.devicePixelRatio)),s.setAttribute("width",String(Number(getComputedStyle(s).getPropertyValue("width").slice(0,-2))*window.devicePixelRatio))}function R(e,t){[n[e].x,n[t].x,n[e].frequency,n[t].frequency,n[e],n[t]]=[n[t].x,n[e].x,n[t].frequency,n[e].frequency,n[t],n[e]]}function E(){n=[];const e=s.width/Number(i.algorithm.numberOfRectangles),t=s.height/Number(i.algorithm.numberOfRectangles),a=100,b=1e4/Number(i.algorithm.numberOfRectangles);for(let u=0;u<Number(i.algorithm.numberOfRectangles);u++)n.push({x:e*u,y:s.height-t*(u+1),width:e-1,height:t*(u+1),frequency:b*u+a});for(let u=0;u<Number(i.algorithm.numberOfRectangles)*10;u++)h()}function h(){const e=Math.floor(Math.random()*Number(i.algorithm.numberOfRectangles));let t=0;do t=Math.floor(Math.random()*Number(i.algorithm.numberOfRectangles));while(e===t);R(e,t)}async function k(){for(let e=0;e<Number(i.algorithm.numberOfRectangles);e++)await f(e,!0);await C(0)}async function m(e,t){B(e),B(t),R(e,t),await q(e),await q(t)}async function f(e,t){const a=()=>c.fillRect(n[e].x,n[e].y,n[e].width,n[e].height);t?queueMicrotask(()=>{a()}):(a(),await C(Number(i.algorithm.sleepTime)))}function B(e){c.fillStyle="#303030",c.fillRect(n[e].x-1,n[e].y-1,n[e].width+2,n[e].height+2),c.fillStyle="#0F0"}function x(e){c.fillStyle="#303030",c.fillRect(e.x-1,e.y-1,e.width+2,e.height+2),c.fillStyle="#0F0"}async function q(e){r("beep",n[e].frequency),await f(e)}function C(e){return new Promise(t=>setTimeout(t,e))}async function P(){const e=n.length;let t=!1,a=0,o=0;do for(a++,t=!1,o=0;o<e-a;o++){if(i.algorithm.stopExecution)return;n[o].height>n[o+1].height&&(await m(o,o+1),t=!0)}while(t)}async function $(){const e=n.length;let t=0,a;for(let o=1;o<e;o++){for(a=n[o],t=o-1;t>=0&&n[t].height>a.height;t--){if(i.algorithm.stopExecution)return;await m(t,t+1)}n[t+1]=a}}async function O(){let e=0,t=0;for(let a=0;a<n.length;a++){for(e=a,t=a+1;t<n.length;t++){if(i.algorithm.stopExecution)return;n[t].height<n[e].height&&(e=t)}e!==a&&await m(a,e)}}async function N(){let e=!1,t=0;for(;!e;){for(e=!0;t<n.length-1;){if(i.algorithm.stopExecution)return;n[t].height>n[t+1].height&&(await m(t,t+1),e=!1),t++}if(e)break;for(e=!0;t>0;){if(i.algorithm.stopExecution)return;n[t-1].height>n[t].height&&(await m(t,t-1),e=!1),t--}}}async function S(e,t){v=await V(e,t),!i.algorithm.stopExecution&&(e<v-1&&await S(e,v-1),v<t&&await S(v,t))}async function V(e,t){const a=n[Math.floor((t+e)/2)];for(;e<=t;){if(i.algorithm.stopExecution)return 0;for(;n[e].height<a.height;)e++;for(;n[t].height>a.height;)t--;e<=t&&(await m(e,t),e++,t--)}return e}async function F(e){if(i.algorithm.stopExecution)return[];if(e.length<2)return e;const t=Math.floor(e.length/2);return A(await F(e.slice(0,t)),await F(e.slice(t)))}async function A(e,t){const a=[];let o=0,b=0;for(;o<e.length&&b<t.length;)e[o].height<t[b].height?(a.push(e[o]),o++):(a.push(t[b]),b++);const u=[...a,...e.slice(o),...t.slice(b)],H=u.map(l=>(x(l),{x:l.x,frequency:l.frequency})).sort((l,U)=>l.x-U.x);for(let l=0;l<H.length;l++)u[l].x=H[l].x,u[l].frequency=H[l].frequency;const X=[],J=u.map(l=>l.height);J.forEach(l=>{X.push(n.findIndex(U=>U.height===u[J.findIndex(Y=>Y===l)].height))});for(let l=0;l<u.length;l++){if(i.algorithm.stopExecution)return[];await q(X[l])}return u}async function d(){for(let e=Math.floor(n.length/2-1);e>=0;e--){if(i.algorithm.stopExecution)return;await g(n.length,e)}for(let e=n.length-1;e>=0;e--){if(i.algorithm.stopExecution)return;await m(0,e),await g(e,0)}}async function g(e,t){let a=t;const o=2*t+1,b=2*t+2;i.algorithm.stopExecution||(o<e&&n[o].height>n[a].height&&(a=o),b<e&&n[b].height>n[a].height&&(a=b),a!=t&&(await m(t,a),await g(e,a)))}async function j(){let e=0,t=0;for(let a=Math.floor(n.length/2);a>0;a=Math.floor(a/2))for(t=a;t<n.length;t+=1){const o=n[t];for(e=t;e>=a&&n[e-a].height>o.height;e-=a){if(i.algorithm.stopExecution)return;await m(e,e-a)}n[e].x=o.x,n[e]=o}}async function W(){for(let e=1;e<n.length;e++)if(n[e-1].height>n[e].height)for(;e>0&&n[e-1].height>n[e].height;){if(i.algorithm.stopExecution)return;await m(e,e-1),e--}}return(e,t)=>(I(),T("canvas",ne))}}),ie={class:"flex h-[calc(100vh_-_64px)]"},oe={class:"flex flex-col justify-center items-center gap-2 w-72"},le={class:"flex gap-1"},re=["disabled"],se=["disabled"],ue={class:"flex flex-col"},ce=["disabled"],he={class:"flex flex-wrap justify-center gap-1"},de=["disabled","onClick"],fe=K({__name:"Sorting",setup(i){const M=w(0),r=w(.025),c=w(!1),s=w(!1),n=w(!0),v=w(100),p=w(!1),R=w(!1),E=w(!1),h=w(),k=w(""),m=w(["Bubble","Insertion","Cocktail Shaker","Selection","Merge","Quick","Heap","Shell","Gnome"]);let f,B=!1,x;D(v,()=>{S(),p.value=!0}),D(r,()=>{S(),p.value?(h.value?.disconnect(),x.gain.setValueAtTime(r.value,f.currentTime),h.value?.connect(x).connect(f.destination)):x.gain.setValueAtTime(r.value,f.currentTime)});async function q(){c.value=!0,h.value?.disconnect(),await C(500),c.value=!1,h.value?.disconnect(),N()}function C(A){return new Promise(d=>setTimeout(d,A))}function P(){S(),h.value?.connect(x).connect(f.destination),O()}function $(){k.value="",h.value?.disconnect(),N()}function O(){E.value=!0,R.value=!0,p.value=!0,n.value=!1}function N(){E.value=!1,R.value=!1,p.value=!1,n.value=!0}function S(){B||(f=new AudioContext,x=new GainNode(f,{gain:r.value}),h.value=new OscillatorNode(f,{type:"sine",frequency:500}),h.value.start(),h.value.connect(f.destination),h.value.disconnect(),B=!0)}function V(A){h.value?.frequency.setValueAtTime(A,f.currentTime)}function F(){S(),h.value?.connect(x).connect(f.destination),V(300)}return(A,d)=>(I(),T("div",ie,[y("div",oe,[y("div",le,[y("button",{class:"tw-button h-[50px] w-[130px] p-0",disabled:n.value,onClick:q}," Stop Execution ",8,re),y("button",{class:"tw-button h-[50px] w-[130px] p-0",disabled:R.value,onClick:d[0]||(d[0]=g=>s.value=!0)}," Randomize ",8,se)]),y("div",ue,[y("div",null,[G(" Volume: "+z(parseFloat((r.value*5*100).toFixed(1)))+"% ",1),Q(y("input",{"onUpdate:modelValue":d[1]||(d[1]=g=>r.value=g),class:"w-64 h-6 bg-transparent",type:"range",min:"0",max:"0.2",step:"0.0001"},null,512),[[L,r.value]])]),y("div",null,[G(" Add extra Delay of: "+z(M.value)+"ms ",1),Q(y("input",{"onUpdate:modelValue":d[2]||(d[2]=g=>M.value=g),class:"w-64 h-6 bg-transparent",type:"range",min:"0",max:"250",step:"5"},null,512),[[L,M.value]])]),y("div",null,[G(z(v.value)+" Rectangles ",1),Q(y("input",{"onUpdate:modelValue":d[3]||(d[3]=g=>v.value=g),class:"w-64 h-6 bg-transparent",type:"range",min:"10",max:"1000",step:"5",disabled:E.value},null,8,ce),[[L,v.value]])])]),y("div",he,[(I(!0),T(_,null,ee(m.value,(g,j)=>(I(),T("button",{key:j,class:"tw-button h-[50px] w-[130px] p-0",disabled:p.value,onClick:W=>k.value=g},z(g),9,de))),128))])]),te(ae,{algorithm:{sleepTime:M.value,stopExecution:c.value,randomizeArray:s.value,oscillator:h.value,numberOfRectangles:v.value,sortingMethod:k.value},onSortingMethodStartedBools:O,onSortingMethodEndedBools:N,onSortingMethodStarted:P,onAudioForRandomizing:F,onSortingMethodEnded:$,onRandomizeArrayDone:d[4]||(d[4]=g=>s.value=!1),onBeep:V},null,8,["algorithm"])]))}});export{fe as default};
//# sourceMappingURL=Sorting-f3157a6e.js.map
