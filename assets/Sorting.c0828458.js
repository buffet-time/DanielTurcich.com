import{d as J,j as T,k as Y,c as V,o as z,r as w,a as y,e as H,t as O,w as U,v as G,F as Z,b as ee,l as te}from"./index.7ab62f03.js";const ne={id:"canvas",class:"w-[calc(100vw_-_288px)]"},ae=J({__name:"SortingVisualization",props:{algorithm:null},emits:["randomizeArrayDone","sortingMethodEnded","audioForRandomizing","sortingMethodStarted","sortingMethodEndedBools","sortingMethodStartedBools","beep"],setup(Q,{emit:g}){const o=Q;let h,u,n=[],v=0;T(()=>o.algorithm.randomizeArray,async e=>{e&&(g("sortingMethodStartedBools"),g("audioForRandomizing"),h.fillStyle="#303030",h.fillRect(0,0,u.width,u.height),h.fillStyle="#0F0",E(),await k(),o.algorithm.oscillator.disconnect(),g("sortingMethodEndedBools"),g("randomizeArrayDone"))}),T(()=>o.algorithm.sortingMethod,async e=>{switch(g("sortingMethodStarted"),e){case"Bubble":await I();break;case"Cocktail Shaker":await B();break;case"Heap":await l();break;case"Insertion":await D();break;case"Merge":n=await q(n);break;case"Quick":await S(0,n.length-1);break;case"Selection":await F();break;case"Shell":await P();break;case"Gnome":await L();break}g("sortingMethodEnded")}),Y(async()=>{g("sortingMethodStartedBools"),u=document.getElementById("canvas"),u.setAttribute("height",String(window.innerHeight-64)),u.setAttribute("width",String(window.innerWidth-300)),h=u.getContext("2d"),M(),h.fillStyle="#0F0",E(),await k(),g("sortingMethodEndedBools")});function M(){u.setAttribute("height",String(Number(getComputedStyle(u).getPropertyValue("height").slice(0,-2))*window.devicePixelRatio)),u.setAttribute("width",String(Number(getComputedStyle(u).getPropertyValue("width").slice(0,-2))*window.devicePixelRatio))}function R(e,t){[n[e].x,n[t].x,n[e].frequency,n[t].frequency,n[e],n[t]]=[n[t].x,n[e].x,n[t].frequency,n[e].frequency,n[t],n[e]]}function E(){n=[];const e=u.width/Number(o.algorithm.numberOfRectangles),t=u.height/Number(o.algorithm.numberOfRectangles),a=100,b=1e4/Number(o.algorithm.numberOfRectangles);for(let c=0;c<Number(o.algorithm.numberOfRectangles);c++)n.push({x:e*c,y:u.height-t*(c+1),width:e-1,height:t*(c+1),frequency:b*c+a});for(let c=0;c<Number(o.algorithm.numberOfRectangles)*10;c++)d()}function d(){const e=Math.floor(Math.random()*Number(o.algorithm.numberOfRectangles));let t=0;do t=Math.floor(Math.random()*Number(o.algorithm.numberOfRectangles));while(e===t);R(e,t)}async function k(){for(let e=0;e<o.algorithm.numberOfRectangles;e++)m(e,!0);await N(0)}async function p(e,t){_(e),_(t),R(e,t),await A(e),await A(t)}async function m(e,t){const a=()=>h.fillRect(n[e].x,n[e].y,n[e].width,n[e].height);t?queueMicrotask(()=>{a()}):(a(),await N(Number(o.algorithm.sleepTime)))}function _(e){h.fillStyle="#303030",h.fillRect(n[e].x-1,n[e].y-1,n[e].width+2,n[e].height+2),h.fillStyle="#0F0"}function x(e){h.fillStyle="#303030",h.fillRect(e.x-1,e.y-1,e.width+2,e.height+2),h.fillStyle="#0F0"}async function A(e){g("beep",n[e].frequency),await m(e)}function N(e){return new Promise(t=>setTimeout(t,e))}async function I(){const e=n.length;let t=!1,a=0,i=0;do for(a++,t=!1,i=0;i<e-a;i++){if(o.algorithm.stopExecution)return;n[i].height>n[i+1].height&&(await p(i,i+1),t=!0)}while(t)}async function D(){const e=n.length;let t=0,a;for(let i=1;i<e;i++){for(a=n[i],t=i-1;t>=0&&n[t].height>a.height;t--){if(o.algorithm.stopExecution)return;await p(t,t+1)}n[t+1]=a}}async function F(){let e=0,t=0;for(let a=0;a<n.length;a++){for(e=a,t=a+1;t<n.length;t++){if(o.algorithm.stopExecution)return;n[t].height<n[e].height&&(e=t)}e!==a&&await p(a,e)}}async function B(){let e=!1,t=0;for(;!e;){for(e=!0;t<n.length-1;){if(o.algorithm.stopExecution)return;n[t].height>n[t+1].height&&(await p(t,t+1),e=!1),t++}if(e)break;for(e=!0;t>0;){if(o.algorithm.stopExecution)return;n[t-1].height>n[t].height&&(await p(t,t-1),e=!1),t--}}}async function S(e,t){v=await C(e,t),!o.algorithm.stopExecution&&(e<v-1&&await S(e,v-1),v<t&&await S(v,t))}async function C(e,t){const a=n[Math.floor((t+e)/2)];for(;e<=t;){if(o.algorithm.stopExecution)return 0;for(;n[e].height<a.height;)e++;for(;n[t].height>a.height;)t--;e<=t&&(await p(e,t),e++,t--)}return e}async function q(e){if(o.algorithm.stopExecution)return[];if(e.length<2)return e;const t=Math.floor(e.length/2);return r(await q(e.slice(0,t)),await q(e.slice(t)))}async function r(e,t){const a=[];let i=0,b=0;for(;i<e.length&&b<t.length;)e[i].height<t[b].height?(a.push(e[i]),i++):(a.push(t[b]),b++);const c=[...a,...e.slice(i),...t.slice(b)],j=c.map(s=>(x(s),{x:s.x,frequency:s.frequency})).sort((s,$)=>s.x-$.x);for(let s=0;s<j.length;s++)c[s].x=j[s].x,c[s].frequency=j[s].frequency;const W=[],X=c.map(s=>s.height);X.forEach(s=>{W.push(n.findIndex($=>$.height===c[X.findIndex(K=>K===s)].height))});for(let s=0;s<c.length;s++){if(o.algorithm.stopExecution)return[];await A(W[s])}return c}async function l(){for(let e=Math.floor(n.length/2-1);e>=0;e--){if(o.algorithm.stopExecution)return;await f(n.length,e)}for(let e=n.length-1;e>=0;e--){if(o.algorithm.stopExecution)return;await p(0,e),await f(e,0)}}async function f(e,t){let a=t;const i=2*t+1,b=2*t+2;o.algorithm.stopExecution||(i<e&&n[i].height>n[a].height&&(a=i),b<e&&n[b].height>n[a].height&&(a=b),a!=t&&(await p(t,a),await f(e,a)))}async function P(){let e=0,t=0;for(let a=Math.floor(n.length/2);a>0;a=Math.floor(a/2))for(t=a;t<n.length;t+=1){const i=n[t];for(e=t;e>=a&&n[e-a].height>i.height;e-=a){if(o.algorithm.stopExecution)return;await p(e,e-a)}n[e].x=i.x,n[e]=i}}async function L(){for(let e=1;e<n.length;e++)if(n[e-1].height>n[e].height)for(;e>0&&n[e-1].height>n[e].height;){if(o.algorithm.stopExecution)return;await p(e,e-1),e--}}return(e,t)=>(z(),V("canvas",ne))}}),oe={class:"flex h-[calc(100vh_-_64px)]"},ie={class:"flex flex-col justify-center items-center gap-2 w-72"},le={class:"flex gap-1"},re=["disabled"],se=["disabled"],ue={class:"flex flex-col"},ce=["disabled"],he={class:"flex flex-wrap justify-center gap-1"},de=["disabled","onClick"],fe=J({__name:"Sorting",setup(Q){const g=w(0),o=w(.025),h=w(!1),u=w(!1),n=w(!0),v=w(100),M=w(!1),R=w(!1),E=w(!1),d=w(),k=w(""),p=w(["Bubble","Insertion","Cocktail Shaker","Selection","Merge","Quick","Heap","Shell","Gnome"]);let m,_=!1,x;T(v,()=>{S(),M.value=!0}),T(o,()=>{var r,l;S(),M.value?((r=d.value)==null||r.disconnect(),x.gain.setValueAtTime(o.value,m.currentTime),(l=d.value)==null||l.connect(x).connect(m.destination)):x.gain.setValueAtTime(o.value,m.currentTime)});async function A(){var r,l;h.value=!0,(r=d.value)==null||r.disconnect(),await N(500),h.value=!1,(l=d.value)==null||l.disconnect(),B()}function N(r){return new Promise(l=>setTimeout(l,r))}function I(){var r;S(),(r=d.value)==null||r.connect(x).connect(m.destination),F()}function D(){var r;k.value="",(r=d.value)==null||r.disconnect(),B()}function F(){E.value=!0,R.value=!0,M.value=!0,n.value=!1}function B(){E.value=!1,R.value=!1,M.value=!1,n.value=!0}function S(){_||(m=new AudioContext,x=new GainNode(m,{gain:o.value}),d.value=new OscillatorNode(m,{type:"sine",frequency:500}),d.value.start(),d.value.connect(m.destination),d.value.disconnect(),_=!0)}function C(r){var l;(l=d.value)==null||l.frequency.setValueAtTime(r,m.currentTime)}function q(){var r;S(),(r=d.value)==null||r.connect(x).connect(m.destination),C(300)}return(r,l)=>(z(),V("div",oe,[y("div",ie,[y("div",le,[y("button",{class:"tw-button h-[50px] w-[130px] p-0",disabled:n.value,onClick:A}," Stop Execution ",8,re),y("button",{class:"tw-button h-[50px] w-[130px] p-0",disabled:R.value,onClick:l[0]||(l[0]=f=>u.value=!0)}," Randomize ",8,se)]),y("div",ue,[y("div",null,[H(" Volume: "+O(parseFloat((o.value*5*100).toFixed(1)))+"% ",1),U(y("input",{"onUpdate:modelValue":l[1]||(l[1]=f=>o.value=f),class:"w-64 h-6 bg-transparent",type:"range",min:"0",max:"0.2",step:"0.0001"},null,512),[[G,o.value]])]),y("div",null,[H(" Add extra Delay of: "+O(g.value)+"ms ",1),U(y("input",{"onUpdate:modelValue":l[2]||(l[2]=f=>g.value=f),class:"w-64 h-6 bg-transparent",type:"range",min:"0",max:"250",step:"5"},null,512),[[G,g.value]])]),y("div",null,[H(O(v.value)+" Rectangles ",1),U(y("input",{"onUpdate:modelValue":l[3]||(l[3]=f=>v.value=f),class:"w-64 h-6 bg-transparent",type:"range",min:"10",max:"1000",step:"5",disabled:E.value},null,8,ce),[[G,v.value]])])]),y("div",he,[(z(!0),V(Z,null,ee(p.value,(f,P)=>(z(),V("button",{key:P,class:"tw-button h-[50px] w-[130px] p-0",disabled:M.value,onClick:L=>k.value=f},O(f),9,de))),128))])]),te(ae,{algorithm:{sleepTime:g.value,stopExecution:h.value,randomizeArray:u.value,oscillator:d.value,numberOfRectangles:v.value,sortingMethod:k.value},onSortingMethodStartedBools:F,onSortingMethodEndedBools:B,onSortingMethodStarted:I,onAudioForRandomizing:q,onSortingMethodEnded:D,onRandomizeArrayDone:l[4]||(l[4]=f=>u.value=!1),onBeep:C},null,8,["algorithm"])]))}});export{fe as default};
