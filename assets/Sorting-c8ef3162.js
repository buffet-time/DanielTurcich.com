import{d as J,k as T,f as Y,c as V,o as z,r as w,a as y,e as G,t as O,w as Q,v as L,F as Z,b as _,l as ee}from"./index-4dead21d.js";const te={id:"canvas",class:"w-[calc(100vw_-_288px)]"},ne=J({__name:"SortingVisualization",props:{algorithm:{}},emits:["randomizeArrayDone","sortingMethodEnded","audioForRandomizing","sortingMethodStarted","sortingMethodEndedBools","sortingMethodStartedBools","beep"],setup(i,{emit:d}){let l,s,n=[],x=0;T(()=>i.algorithm.randomizeArray,async e=>{e&&(d("sortingMethodStartedBools"),d("audioForRandomizing"),l.fillStyle="#303030",l.fillRect(0,0,s.width,s.height),l.fillStyle="#0F0",R(),await c(),i.algorithm.oscillator.disconnect(),d("sortingMethodEndedBools"),d("randomizeArrayDone"))}),T(()=>i.algorithm.sortingMethod,async e=>{switch(d("sortingMethodStarted"),e){case"Bubble":await I();break;case"Cocktail Shaker":await C();break;case"Heap":await A();break;case"Insertion":await D();break;case"Merge":n=await k(n);break;case"Quick":await M(0,n.length-1);break;case"Selection":await P();break;case"Shell":await m();break;case"Gnome":await j();break}d("sortingMethodEnded")}),Y(async()=>{d("sortingMethodStartedBools"),s=document.getElementById("canvas"),s.setAttribute("height",String(window.innerHeight-64)),s.setAttribute("width",String(window.innerWidth-300)),l=s.getContext("2d"),p(),l.fillStyle="#0F0",R(),await c(),d("sortingMethodEndedBools")});function p(){s.setAttribute("height",String(Number(getComputedStyle(s).getPropertyValue("height").slice(0,-2))*window.devicePixelRatio)),s.setAttribute("width",String(Number(getComputedStyle(s).getPropertyValue("width").slice(0,-2))*window.devicePixelRatio))}function S(e,t){[n[e].x,n[t].x,n[e].frequency,n[t].frequency,n[e],n[t]]=[n[t].x,n[e].x,n[t].frequency,n[e].frequency,n[t],n[e]]}function R(){n=[];const e=s.width/Number(i.algorithm.numberOfRectangles),t=s.height/Number(i.algorithm.numberOfRectangles),a=100,v=1e4/Number(i.algorithm.numberOfRectangles);for(let u=0;u<Number(i.algorithm.numberOfRectangles);u++)n.push({x:e*u,y:s.height-t*(u+1),width:e-1,height:t*(u+1),frequency:v*u+a});for(let u=0;u<Number(i.algorithm.numberOfRectangles)*10;u++)B()}function B(){const e=Math.floor(Math.random()*Number(i.algorithm.numberOfRectangles));let t=0;do t=Math.floor(Math.random()*Number(i.algorithm.numberOfRectangles));while(e===t);S(e,t)}async function c(){for(let e=0;e<Number(i.algorithm.numberOfRectangles);e++)await q(e,!0);await F(0)}async function g(e,t){f(e),f(t),S(e,t),await b(e),await b(t)}async function q(e,t){const a=()=>l.fillRect(n[e].x,n[e].y,n[e].width,n[e].height);t?queueMicrotask(()=>{a()}):(a(),await F(Number(i.algorithm.sleepTime)))}function f(e){l.fillStyle="#303030",l.fillRect(n[e].x-1,n[e].y-1,n[e].width+2,n[e].height+2),l.fillStyle="#0F0"}function N(e){l.fillStyle="#303030",l.fillRect(e.x-1,e.y-1,e.width+2,e.height+2),l.fillStyle="#0F0"}async function b(e){d("beep",n[e].frequency),await q(e)}function F(e){return new Promise(t=>setTimeout(t,e))}async function I(){const e=n.length;let t=!1,a=0,o=0;do for(a++,t=!1,o=0;o<e-a;o++){if(i.algorithm.stopExecution)return;n[o].height>n[o+1].height&&(await g(o,o+1),t=!0)}while(t)}async function D(){const e=n.length;let t=0,a;for(let o=1;o<e;o++){for(a=n[o],t=o-1;t>=0&&n[t].height>a.height;t--){if(i.algorithm.stopExecution)return;await g(t,t+1)}n[t+1]=a}}async function P(){let e=0,t=0;for(let a=0;a<n.length;a++){for(e=a,t=a+1;t<n.length;t++){if(i.algorithm.stopExecution)return;n[t].height<n[e].height&&(e=t)}e!==a&&await g(a,e)}}async function C(){let e=!1,t=0;for(;!e;){for(e=!0;t<n.length-1;){if(i.algorithm.stopExecution)return;n[t].height>n[t+1].height&&(await g(t,t+1),e=!1),t++}if(e)break;for(e=!0;t>0;){if(i.algorithm.stopExecution)return;n[t-1].height>n[t].height&&(await g(t,t-1),e=!1),t--}}}async function M(e,t){x=await E(e,t),!i.algorithm.stopExecution&&(e<x-1&&await M(e,x-1),x<t&&await M(x,t))}async function E(e,t){const a=n[Math.floor((t+e)/2)];for(;e<=t;){if(i.algorithm.stopExecution)return 0;for(;n[e].height<a.height;)e++;for(;n[t].height>a.height;)t--;e<=t&&(await g(e,t),e++,t--)}return e}async function k(e){if(i.algorithm.stopExecution)return[];if(e.length<2)return e;const t=Math.floor(e.length/2);return $(await k(e.slice(0,t)),await k(e.slice(t)))}async function $(e,t){const a=[];let o=0,v=0;for(;o<e.length&&v<t.length;)e[o].height<t[v].height?(a.push(e[o]),o++):(a.push(t[v]),v++);const u=[...a,...e.slice(o),...t.slice(v)],H=u.map(r=>(N(r),{x:r.x,frequency:r.frequency})).sort((r,U)=>r.x-U.x);for(let r=0;r<H.length;r++)u[r].x=H[r].x,u[r].frequency=H[r].frequency;const W=[],X=u.map(r=>r.height);X.forEach(r=>{W.push(n.findIndex(U=>U.height===u[X.findIndex(K=>K===r)].height))});for(let r=0;r<u.length;r++){if(i.algorithm.stopExecution)return[];await b(W[r])}return u}async function A(){for(let e=Math.floor(n.length/2-1);e>=0;e--){if(i.algorithm.stopExecution)return;await h(n.length,e)}for(let e=n.length-1;e>=0;e--){if(i.algorithm.stopExecution)return;await g(0,e),await h(e,0)}}async function h(e,t){let a=t;const o=2*t+1,v=2*t+2;i.algorithm.stopExecution||(o<e&&n[o].height>n[a].height&&(a=o),v<e&&n[v].height>n[a].height&&(a=v),a!=t&&(await g(t,a),await h(e,a)))}async function m(){let e=0,t=0;for(let a=Math.floor(n.length/2);a>0;a=Math.floor(a/2))for(t=a;t<n.length;t+=1){const o=n[t];for(e=t;e>=a&&n[e-a].height>o.height;e-=a){if(i.algorithm.stopExecution)return;await g(e,e-a)}n[e].x=o.x,n[e]=o}}async function j(){for(let e=1;e<n.length;e++)if(n[e-1].height>n[e].height)for(;e>0&&n[e-1].height>n[e].height;){if(i.algorithm.stopExecution)return;await g(e,e-1),e--}}return(e,t)=>(z(),V("canvas",te))}}),ae={class:"flex h-[calc(100vh_-_64px)]"},ie={class:"flex flex-col justify-center items-center gap-2 w-72"},oe={class:"flex gap-1"},le=["disabled"],re=["disabled"],se={class:"flex flex-col"},ue=["disabled"],ce={class:"flex flex-wrap justify-center gap-1"},he=["disabled","onClick"],ge=J({__name:"Sorting",setup(i){const d=w(0),l=w(.025),s=w(!1),n=w(!1),x=w(!0),p=w(100),S=w(!1),R=w(!1),B=w(!1),c=w(),g=w(""),q=w(["Bubble","Insertion","Cocktail Shaker","Selection","Merge","Quick","Heap","Shell","Gnome"]);let f,N=!1,b;T(p,()=>{E(),S.value=!0}),T(l,()=>{E(),S.value?(c.value?.disconnect(),b.gain.setValueAtTime(l.value,f.currentTime),c.value?.connect(b).connect(f.destination)):b.gain.setValueAtTime(l.value,f.currentTime)});async function F(){s.value=!0,c.value?.disconnect(),await I(500),s.value=!1,c.value?.disconnect(),M()}function I(A){return new Promise(h=>setTimeout(h,A))}function D(){E(),c.value?.connect(b).connect(f.destination),C()}function P(){g.value="",c.value?.disconnect(),M()}function C(){B.value=!0,R.value=!0,S.value=!0,x.value=!1}function M(){B.value=!1,R.value=!1,S.value=!1,x.value=!0}function E(){N||(f=new AudioContext,b=new GainNode(f,{gain:l.value}),c.value=new OscillatorNode(f,{type:"sine",frequency:500}),c.value.start(),c.value.connect(f.destination),c.value.disconnect(),N=!0)}function k(A){c.value?.frequency.setValueAtTime(A,f.currentTime)}function $(){E(),c.value?.connect(b).connect(f.destination),k(300)}return(A,h)=>(z(),V("div",ae,[y("div",ie,[y("div",oe,[y("button",{class:"tw-button h-[50px] w-[130px] p-0",disabled:x.value,onClick:F}," Stop Execution ",8,le),y("button",{class:"tw-button h-[50px] w-[130px] p-0",disabled:R.value,onClick:h[0]||(h[0]=m=>n.value=!0)}," Randomize ",8,re)]),y("div",se,[y("div",null,[G(" Volume: "+O(parseFloat((l.value*5*100).toFixed(1)))+"% ",1),Q(y("input",{"onUpdate:modelValue":h[1]||(h[1]=m=>l.value=m),class:"w-64 h-6 bg-transparent",type:"range",min:"0",max:"0.2",step:"0.0001"},null,512),[[L,l.value]])]),y("div",null,[G(" Add extra Delay of: "+O(d.value)+"ms ",1),Q(y("input",{"onUpdate:modelValue":h[2]||(h[2]=m=>d.value=m),class:"w-64 h-6 bg-transparent",type:"range",min:"0",max:"250",step:"5"},null,512),[[L,d.value]])]),y("div",null,[G(O(p.value)+" Rectangles ",1),Q(y("input",{"onUpdate:modelValue":h[3]||(h[3]=m=>p.value=m),class:"w-64 h-6 bg-transparent",type:"range",min:"10",max:"1000",step:"5",disabled:B.value},null,8,ue),[[L,p.value]])])]),y("div",ce,[(z(!0),V(Z,null,_(q.value,(m,j)=>(z(),V("button",{key:j,class:"tw-button h-[50px] w-[130px] p-0",disabled:S.value,onClick:e=>g.value=m},O(m),9,he))),128))])]),ee(ne,{algorithm:{sleepTime:d.value,stopExecution:s.value,randomizeArray:n.value,oscillator:c.value,numberOfRectangles:p.value,sortingMethod:g.value},onSortingMethodStartedBools:C,onSortingMethodEndedBools:M,onSortingMethodStarted:D,onAudioForRandomizing:$,onSortingMethodEnded:P,onRandomizeArrayDone:h[4]||(h[4]=m=>n.value=!1),onBeep:k},null,8,["algorithm"])]))}});export{ge as default};
//# sourceMappingURL=Sorting-c8ef3162.js.map
