import{k as H,d as j,l as F,f as Q,c as A,o as C,r as y,a as v,e as P,t as q,w as O,v as U,m as $,F as L,b as W,n as X}from"./index-WLjNhXIC.js";const V=H("stopExecution",{state:()=>({_stopExecution:!1}),getters:{stopExecution:a=>a._stopExecution},actions:{setStopExecution(a){this._stopExecution=a}}});async function J(a,S,d){const s=V();async function h(u){if(s.stopExecution)return[];if(u.length<2)return u;const r=Math.floor(u.length/2);return n(await h(u.slice(0,r)),await h(u.slice(r)))}async function n(u,r){const w=[];let m=0,b=0;for(;m<u.length&&b<r.length;){if(u[m].height<r[b].height){w.push(u[m]),m++;continue}w.push(r[b]),b++}const i=[...w,...u.slice(m),...r.slice(b)],x=i.map(l=>(S(l),{x:l.x,frequency:l.frequency})).sort((l,M)=>l.x-M.x);for(let l=0;l<x.length;l++)i[l].x=x[l].x,i[l].frequency=x[l].frequency;const R=[],E=i.map(l=>l.height);E.forEach(l=>R.push(a.findIndex(M=>M.height===i[E.findIndex(p=>p===l)].height)));for(let l=0;l<i.length;l++){if(s.stopExecution)return[];await d(R[l])}return i}await h(a)}async function K(a,S){const d=V();let s=0;await h(0,a.length-1);async function h(u,r){s=await n(u,r),!d.stopExecution&&(u<s-1&&await h(u,s-1),s<r&&await h(s,r))}async function n(u,r){const w=a[Math.floor((r+u)/2)];for(;u<=r;){if(d.stopExecution)return 0;for(;a[u].height<w.height;)u++;for(;a[r].height>w.height;)r--;u<=r&&await S(u,r),u++,r--}return u}}async function Y(a,S,d){const s=V(),h=1.25;await u(a);function n(r){return r==1?r:Math.floor(r/h)}async function u(r){if(s.stopExecution){console.log(1);return}const w=Number(S.numberOfRectangles);let m=w,b=!0;for(;m!=1||b==!0;){if(s.stopExecution)return;m=n(m),b=!1;for(let i=0;i<w-m;i++)r[i].height>r[i+m].height&&(await d(i,i+m),b=!0)}}}const Z={id:"canvas",class:"w-[calc(100vw_-_288px)]"},_=j({__name:"SortingVisualization",props:{algorithm:{},startSortingMethod:{type:Boolean}},emits:["randomizeArrayDone","sortingMethodEnded","audioForRandomizing","sortingMethodStarted","sortingMethodEndedBools","sortingMethodStartedBools","beep"],setup(a,{emit:S}){const d=S;let s,h,n=[];F(()=>a.algorithm.randomizeArray,async e=>{e&&(d("sortingMethodStartedBools"),d("audioForRandomizing"),s.fillStyle="#303030",s.fillRect(0,0,h.width,h.height),s.fillStyle="#0F0",w(),await b(),a.algorithm.oscillator.disconnect(),d("sortingMethodEndedBools"),d("randomizeArrayDone"))}),F(()=>a.startSortingMethod,async()=>{if(a.startSortingMethod){switch(d("sortingMethodStarted"),a.algorithm.sortingMethod){case"Bubble":await p();break;case"Cocktail Shaker":await I();break;case"Heap":await D();break;case"Insertion":await z();break;case"Merge":await J(n,E,l);break;case"Quick":await K(n,i);break;case"Selection":await T();break;case"Shell":await N();break;case"Gnome":await B();break;case"Bogo":await k();break;case"Comb":await Y(n,a.algorithm,i);break}d("sortingMethodEnded")}}),Q(async()=>{d("sortingMethodStartedBools"),h=document.getElementById("canvas"),h.setAttribute("height",String(window.innerHeight-64)),h.setAttribute("width",String(window.innerWidth-300)),s=h.getContext("2d"),u(),s.fillStyle="#0F0",w(),await b(),d("sortingMethodEndedBools")});function u(){h.setAttribute("height",String(Number(getComputedStyle(h).getPropertyValue("height").slice(0,-2))*window.devicePixelRatio)),h.setAttribute("width",String(Number(getComputedStyle(h).getPropertyValue("width").slice(0,-2))*window.devicePixelRatio))}function r(e,t){[n[e].x,n[t].x,n[e].frequency,n[t].frequency,n[e],n[t]]=[n[t].x,n[e].x,n[t].frequency,n[e].frequency,n[t],n[e]]}function w(){n=[];const e=h.width/Number(a.algorithm.numberOfRectangles),t=h.height/Number(a.algorithm.numberOfRectangles),o=100,g=1e4/Number(a.algorithm.numberOfRectangles);for(let f=0;f<Number(a.algorithm.numberOfRectangles);f++)n.push({x:e*f,y:h.height-t*(f+1),width:e-1,height:t*(f+1),frequency:g*f+o});for(let f=0;f<Number(a.algorithm.numberOfRectangles)*10;f++)m()}function m(){const e=Math.floor(Math.random()*Number(a.algorithm.numberOfRectangles));let t=0;do t=Math.floor(Math.random()*Number(a.algorithm.numberOfRectangles));while(e===t);r(e,t)}async function b(){for(let e=0;e<Number(a.algorithm.numberOfRectangles);e++)await x(e,!0);await M(0)}async function i(e,t){R(e),R(t),r(e,t),await l(e),await l(t)}async function x(e,t){function o(){s.fillRect(n[e].x,n[e].y,n[e].width,n[e].height)}t?queueMicrotask(()=>{o()}):(o(),await M(Number(a.algorithm.sleepTime)))}function R(e){s.fillStyle="#303030",s.fillRect(n[e].x-1,n[e].y-1,n[e].width+2,n[e].height+2),s.fillStyle="#0F0"}function E(e){s.fillStyle="#303030",s.fillRect(e.x-1,e.y-1,e.width+2,e.height+2),s.fillStyle="#0F0"}async function l(e){d("beep",n[e].frequency),await x(e)}function M(e){return new Promise(t=>setTimeout(t,e))}async function p(){const e=n.length;let t=!1,o=0,c=0;do for(o++,t=!1,c=0;c<e-o;c++){if(a.algorithm.stopExecution)return;n[c].height>n[c+1].height&&(await i(c,c+1),t=!0)}while(t)}async function z(){const e=n.length;let t=0,o;for(let c=1;c<e;c++){for(o=n[c],t=c-1;t>=0&&n[t].height>o.height;t--){if(a.algorithm.stopExecution)return;await i(t,t+1)}n[t+1]=o}}async function T(){let e=0,t=0;for(let o=0;o<n.length;o++){for(e=o,t=o+1;t<n.length;t++){if(a.algorithm.stopExecution)return;n[t].height<n[e].height&&(e=t)}e!==o&&await i(o,e)}}async function I(){let e=!1,t=0;for(;!e;){for(e=!0;t<n.length-1;){if(a.algorithm.stopExecution)return;n[t].height>n[t+1].height&&(await i(t,t+1),e=!1),t++}if(e)break;for(e=!0;t>0;){if(a.algorithm.stopExecution)return;n[t-1].height>n[t].height&&await i(t,t-1),e=!1,t--}}}async function D(){async function e(t,o){let c=o;const g=2*o+1,f=2*o+2;a.algorithm.stopExecution||(g<t&&n[g].height>n[c].height&&(c=g),f<t&&n[f].height>n[c].height&&(c=f),c!=o&&(await i(o,c),await e(t,c)))}for(let t=Math.floor(n.length/2-1);t>=0;t--){if(a.algorithm.stopExecution)return;await e(n.length,t)}for(let t=n.length-1;t>=0;t--){if(a.algorithm.stopExecution)return;await i(0,t),await e(t,0)}}async function N(){let e=0,t=0;for(let o=Math.floor(n.length/2);o>0;o=Math.floor(o/2))for(t=o;t<n.length;t+=1){const c=n[t];for(e=t;e>=o&&n[e-o].height>c.height;e-=o){if(a.algorithm.stopExecution)return;await i(e,e-o)}n[e].x=c.x,n[e]=c}}async function B(){for(let e=1;e<n.length;e++)if(n[e-1].height>n[e].height)for(;e>0&&n[e-1].height>n[e].height;){if(a.algorithm.stopExecution)return;await i(e,e-1),e--}}async function k(){function e(){for(let o=1;o<n.length;o++)if(n[o-1].height>n[o].height)return!0;return!1}async function t(){for(let o=0;o<Number(a.algorithm.numberOfRectangles);o++)R(o);for(let o=0;o<Number(a.algorithm.numberOfRectangles);o++)m();for(let o=0;o<Number(a.algorithm.numberOfRectangles);o++)await l(o)}for(;e();){if(a.algorithm.stopExecution)return;await t()}}return(e,t)=>(C(),A("canvas",Z))}}),ee={class:"flex h-[calc(100vh_-_64px)]"},te={class:"flex flex-col justify-center items-center gap-2 w-72"},ne={class:"flex flex-col"},oe=v("div",{class:"p-4"}," Currently a few bugs, refactoring and updating this right now :) ",-1),ae=["disabled"],ie={class:"flex flex-col justify-center items-center gap-2"},le={class:"flex gap-2"},re=["disabled"],se=["disabled"],ue=["value"],he=j({__name:"Sorting",setup(a){const S=V(),d=y(0),s=y(.025),h=y(!1),n=y(!1),u=y(!0),r=y(100),w=y(!1),m=y(!1),b=y(!1),i=y(),x=y("Quick"),R=y(["Bubble","Insertion","Cocktail Shaker","Selection","Merge","Quick","Heap","Shell","Gnome","Bogo","Comb"]),E=y(!1);let l,M=!1,p;F(r,()=>{k(),w.value=!0}),F(s,()=>{if(k(),w.value){i.value?.disconnect(),p.gain.setValueAtTime(s.value,l.currentTime),i.value?.connect(p).connect(l.destination);return}p.gain.setValueAtTime(s.value,l.currentTime)});async function z(){S.setStopExecution(!0),h.value=!0,i.value?.disconnect(),await T(500),S.setStopExecution(!1),h.value=!1,i.value?.disconnect(),B()}function T(c){return new Promise(g=>setTimeout(g,c))}function I(){k(),i.value?.connect(p).connect(l.destination),N()}function D(){i.value?.disconnect(),B(),E.value=!1}function N(){b.value=!0,m.value=!0,w.value=!0,u.value=!1}function B(){b.value=!1,m.value=!1,w.value=!1,u.value=!0}function k(){M||(l=new AudioContext,p=new GainNode(l,{gain:s.value}),i.value=new OscillatorNode(l,{type:"sine",frequency:500}),i.value.start(),i.value.connect(l.destination),i.value.disconnect(),M=!0)}function e(c){i.value?.frequency.setValueAtTime(c,l.currentTime)}function t(){k(),i.value?.connect(p).connect(l.destination),e(300)}function o(){E.value||(E.value=!0)}return(c,g)=>(C(),A("div",ee,[v("div",te,[v("div",ne,[oe,v("div",null,[P(" Volume: "+q(parseFloat((s.value*5*100).toFixed(1)))+"% ",1),O(v("input",{"onUpdate:modelValue":g[0]||(g[0]=f=>s.value=f),class:"w-64 h-6 bg-transparent",type:"range",min:"0",max:"0.2",step:"0.0001"},null,512),[[U,s.value]])]),v("div",null,[P(" Add extra Delay of: "+q(d.value)+"ms ",1),O(v("input",{"onUpdate:modelValue":g[1]||(g[1]=f=>d.value=f),class:"w-64 h-6 bg-transparent",type:"range",min:"0",max:"250",step:"5"},null,512),[[U,d.value]])]),v("div",null,[P(q(r.value)+" Rectangles ",1),O(v("input",{"onUpdate:modelValue":g[2]||(g[2]=f=>r.value=f),class:"w-64 h-6 bg-transparent",type:"range",min:"5",max:"1000",step:"5",disabled:b.value},null,8,ae),[[U,r.value]])])]),v("div",ie,[v("div",le,[v("button",{class:"tw-button h-[50px] w-[130px] p-0",disabled:u.value,onClick:z}," Stop Execution ",8,re),v("button",{class:"tw-button h-[50px] w-[130px] p-0",disabled:m.value,onClick:g[3]||(g[3]=f=>n.value=!0)}," Randomize ",8,se)]),O(v("select",{"onUpdate:modelValue":g[4]||(g[4]=f=>x.value=f),class:"tw-music-select h-12"},[(C(!0),A(L,null,W(R.value,(f,G)=>(C(),A("option",{key:G,value:f},q(f),9,ue))),128))],512),[[$,x.value]]),v("button",{class:"tw-button h-[50px] w-[130px] p-0",onClick:o}," Start sort ")])]),X(_,{algorithm:{sleepTime:d.value,stopExecution:h.value,randomizeArray:n.value,oscillator:i.value,numberOfRectangles:r.value,sortingMethod:x.value},"start-sorting-method":E.value,onSortingMethodStartedBools:N,onSortingMethodEndedBools:B,onSortingMethodStarted:I,onAudioForRandomizing:t,onSortingMethodEnded:D,onRandomizeArrayDone:g[5]||(g[5]=f=>n.value=!1),onBeep:e},null,8,["algorithm","start-sorting-method"])]))}});export{he as default};
//# sourceMappingURL=Sorting-hHgtkYco.js.map
