import{d as K,k as D,f as _,c as T,o as I,r as w,a as b,e as G,t as z,w as Q,v as L,F as ee,b as te,l as ne}from"./index-2xZJzQqe.js";const ae={id:"canvas",class:"w-[calc(100vw_-_288px)]"},ie=K({__name:"SortingVisualization",props:{algorithm:{}},emits:["randomizeArrayDone","sortingMethodEnded","audioForRandomizing","sortingMethodStarted","sortingMethodEndedBools","sortingMethodStartedBools","beep"],setup(i,{emit:p}){const r=p;let c,s,n=[],y=0;D(()=>i.algorithm.randomizeArray,async e=>{e&&(r("sortingMethodStartedBools"),r("audioForRandomizing"),c.fillStyle="#303030",c.fillRect(0,0,s.width,s.height),c.fillStyle="#0F0",E(),await k(),i.algorithm.oscillator.disconnect(),r("sortingMethodEndedBools"),r("randomizeArrayDone"))}),D(()=>i.algorithm.sortingMethod,async e=>{switch(r("sortingMethodStarted"),e){case"Bubble":await P();break;case"Cocktail Shaker":await q();break;case"Heap":await g();break;case"Insertion":await $();break;case"Merge":n=await O(n);break;case"Quick":await S(0,n.length-1);break;case"Selection":await C();break;case"Shell":await j();break;case"Gnome":await W();break;case"Bogo":await Y();break}r("sortingMethodEnded")}),_(async()=>{r("sortingMethodStartedBools"),s=document.getElementById("canvas"),s.setAttribute("height",String(window.innerHeight-64)),s.setAttribute("width",String(window.innerWidth-300)),c=s.getContext("2d"),R(),c.fillStyle="#0F0",E(),await k(),r("sortingMethodEndedBools")});function R(){s.setAttribute("height",String(Number(getComputedStyle(s).getPropertyValue("height").slice(0,-2))*window.devicePixelRatio)),s.setAttribute("width",String(Number(getComputedStyle(s).getPropertyValue("width").slice(0,-2))*window.devicePixelRatio))}function M(e,t){[n[e].x,n[t].x,n[e].frequency,n[t].frequency,n[e],n[t]]=[n[t].x,n[e].x,n[t].frequency,n[e].frequency,n[t],n[e]]}function E(){n=[];const e=s.width/Number(i.algorithm.numberOfRectangles),t=s.height/Number(i.algorithm.numberOfRectangles),a=100,v=1e4/Number(i.algorithm.numberOfRectangles);for(let u=0;u<Number(i.algorithm.numberOfRectangles);u++)n.push({x:e*u,y:s.height-t*(u+1),width:e-1,height:t*(u+1),frequency:v*u+a});for(let u=0;u<Number(i.algorithm.numberOfRectangles)*10;u++)h()}function h(){const e=Math.floor(Math.random()*Number(i.algorithm.numberOfRectangles));let t=0;do t=Math.floor(Math.random()*Number(i.algorithm.numberOfRectangles));while(e===t);M(e,t)}async function k(){for(let e=0;e<Number(i.algorithm.numberOfRectangles);e++)await d(e,!0);await F(0)}async function m(e,t){A(e),A(t),M(e,t),await B(e),await B(t)}async function d(e,t){const a=()=>c.fillRect(n[e].x,n[e].y,n[e].width,n[e].height);t?queueMicrotask(()=>{a()}):(a(),await F(Number(i.algorithm.sleepTime)))}function A(e){c.fillStyle="#303030",c.fillRect(n[e].x-1,n[e].y-1,n[e].width+2,n[e].height+2),c.fillStyle="#0F0"}function x(e){c.fillStyle="#303030",c.fillRect(e.x-1,e.y-1,e.width+2,e.height+2),c.fillStyle="#0F0"}async function B(e){r("beep",n[e].frequency),await d(e)}function F(e){return new Promise(t=>setTimeout(t,e))}async function P(){const e=n.length;let t=!1,a=0,o=0;do for(a++,t=!1,o=0;o<e-a;o++){if(i.algorithm.stopExecution)return;n[o].height>n[o+1].height&&(await m(o,o+1),t=!0)}while(t)}async function $(){const e=n.length;let t=0,a;for(let o=1;o<e;o++){for(a=n[o],t=o-1;t>=0&&n[t].height>a.height;t--){if(i.algorithm.stopExecution)return;await m(t,t+1)}n[t+1]=a}}async function C(){let e=0,t=0;for(let a=0;a<n.length;a++){for(e=a,t=a+1;t<n.length;t++){if(i.algorithm.stopExecution)return;n[t].height<n[e].height&&(e=t)}e!==a&&await m(a,e)}}async function q(){let e=!1,t=0;for(;!e;){for(e=!0;t<n.length-1;){if(i.algorithm.stopExecution)return;n[t].height>n[t+1].height&&(await m(t,t+1),e=!1),t++}if(e)break;for(e=!0;t>0;){if(i.algorithm.stopExecution)return;n[t-1].height>n[t].height&&(await m(t,t-1),e=!1),t--}}}async function S(e,t){y=await V(e,t),!i.algorithm.stopExecution&&(e<y-1&&await S(e,y-1),y<t&&await S(y,t))}async function V(e,t){const a=n[Math.floor((t+e)/2)];for(;e<=t;){if(i.algorithm.stopExecution)return 0;for(;n[e].height<a.height;)e++;for(;n[t].height>a.height;)t--;e<=t&&(await m(e,t),e++,t--)}return e}async function O(e){if(i.algorithm.stopExecution)return[];if(e.length<2)return e;const t=Math.floor(e.length/2);return N(await O(e.slice(0,t)),await O(e.slice(t)))}async function N(e,t){const a=[];let o=0,v=0;for(;o<e.length&&v<t.length;)e[o].height<t[v].height?(a.push(e[o]),o++):(a.push(t[v]),v++);const u=[...a,...e.slice(o),...t.slice(v)],H=u.map(l=>(x(l),{x:l.x,frequency:l.frequency})).sort((l,U)=>l.x-U.x);for(let l=0;l<H.length;l++)u[l].x=H[l].x,u[l].frequency=H[l].frequency;const X=[],J=u.map(l=>l.height);J.forEach(l=>{X.push(n.findIndex(U=>U.height===u[J.findIndex(Z=>Z===l)].height))});for(let l=0;l<u.length;l++){if(i.algorithm.stopExecution)return[];await B(X[l])}return u}async function g(){for(let e=Math.floor(n.length/2-1);e>=0;e--){if(i.algorithm.stopExecution)return;await f(n.length,e)}for(let e=n.length-1;e>=0;e--){if(i.algorithm.stopExecution)return;await m(0,e),await f(e,0)}}async function f(e,t){let a=t;const o=2*t+1,v=2*t+2;i.algorithm.stopExecution||(o<e&&n[o].height>n[a].height&&(a=o),v<e&&n[v].height>n[a].height&&(a=v),a!=t&&(await m(t,a),await f(e,a)))}async function j(){let e=0,t=0;for(let a=Math.floor(n.length/2);a>0;a=Math.floor(a/2))for(t=a;t<n.length;t+=1){const o=n[t];for(e=t;e>=a&&n[e-a].height>o.height;e-=a){if(i.algorithm.stopExecution)return;await m(e,e-a)}n[e].x=o.x,n[e]=o}}async function W(){for(let e=1;e<n.length;e++)if(n[e-1].height>n[e].height)for(;e>0&&n[e-1].height>n[e].height;){if(i.algorithm.stopExecution)return;await m(e,e-1),e--}}async function Y(){function e(){for(let a=1;a<n.length;a++)if(n[a-1].height>n[a].height)return!0;return!1}async function t(){for(let a=0;a<Number(i.algorithm.numberOfRectangles);a++)A(a);for(let a=0;a<Number(i.algorithm.numberOfRectangles);a++)h();for(let a=0;a<Number(i.algorithm.numberOfRectangles);a++)await B(a)}for(;e();){if(i.algorithm.stopExecution)return;await t()}}return(e,t)=>(I(),T("canvas",ae))}}),oe={class:"flex h-[calc(100vh_-_64px)]"},le={class:"flex flex-col justify-center items-center gap-2 w-72"},re={class:"flex gap-1"},se=["disabled"],ue=["disabled"],ce={class:"flex flex-col"},he=["disabled"],ge={class:"flex flex-wrap justify-center gap-1"},fe=["disabled","onClick"],me=K({__name:"Sorting",setup(i){const p=w(0),r=w(.025),c=w(!1),s=w(!1),n=w(!0),y=w(100),R=w(!1),M=w(!1),E=w(!1),h=w(),k=w(""),m=w(["Bubble","Insertion","Cocktail Shaker","Selection","Merge","Quick","Heap","Shell","Gnome","Bogo"]);let d,A=!1,x;D(y,()=>{S(),R.value=!0}),D(r,()=>{S(),R.value?(h.value?.disconnect(),x.gain.setValueAtTime(r.value,d.currentTime),h.value?.connect(x).connect(d.destination)):x.gain.setValueAtTime(r.value,d.currentTime)});async function B(){c.value=!0,h.value?.disconnect(),await F(500),c.value=!1,h.value?.disconnect(),q()}function F(N){return new Promise(g=>setTimeout(g,N))}function P(){S(),h.value?.connect(x).connect(d.destination),C()}function $(){k.value="",h.value?.disconnect(),q()}function C(){E.value=!0,M.value=!0,R.value=!0,n.value=!1}function q(){E.value=!1,M.value=!1,R.value=!1,n.value=!0}function S(){A||(d=new AudioContext,x=new GainNode(d,{gain:r.value}),h.value=new OscillatorNode(d,{type:"sine",frequency:500}),h.value.start(),h.value.connect(d.destination),h.value.disconnect(),A=!0)}function V(N){h.value?.frequency.setValueAtTime(N,d.currentTime)}function O(){S(),h.value?.connect(x).connect(d.destination),V(300)}return(N,g)=>(I(),T("div",oe,[b("div",le,[b("div",re,[b("button",{class:"tw-button h-[50px] w-[130px] p-0",disabled:n.value,onClick:B}," Stop Execution ",8,se),b("button",{class:"tw-button h-[50px] w-[130px] p-0",disabled:M.value,onClick:g[0]||(g[0]=f=>s.value=!0)}," Randomize ",8,ue)]),b("div",ce,[b("div",null,[G(" Volume: "+z(parseFloat((r.value*5*100).toFixed(1)))+"% ",1),Q(b("input",{"onUpdate:modelValue":g[1]||(g[1]=f=>r.value=f),class:"w-64 h-6 bg-transparent",type:"range",min:"0",max:"0.2",step:"0.0001"},null,512),[[L,r.value]])]),b("div",null,[G(" Add extra Delay of: "+z(p.value)+"ms ",1),Q(b("input",{"onUpdate:modelValue":g[2]||(g[2]=f=>p.value=f),class:"w-64 h-6 bg-transparent",type:"range",min:"0",max:"250",step:"5"},null,512),[[L,p.value]])]),b("div",null,[G(z(y.value)+" Rectangles ",1),Q(b("input",{"onUpdate:modelValue":g[3]||(g[3]=f=>y.value=f),class:"w-64 h-6 bg-transparent",type:"range",min:"5",max:"1000",step:"5",disabled:E.value},null,8,he),[[L,y.value]])])]),b("div",ge,[(I(!0),T(ee,null,te(m.value,(f,j)=>(I(),T("button",{key:j,class:"tw-button h-[50px] w-[130px] p-0",disabled:R.value,onClick:W=>k.value=f},z(f),9,fe))),128))])]),ne(ie,{algorithm:{sleepTime:p.value,stopExecution:c.value,randomizeArray:s.value,oscillator:h.value,numberOfRectangles:y.value,sortingMethod:k.value},onSortingMethodStartedBools:C,onSortingMethodEndedBools:q,onSortingMethodStarted:P,onAudioForRandomizing:O,onSortingMethodEnded:$,onRandomizeArrayDone:g[4]||(g[4]=f=>s.value=!1),onBeep:V},null,8,["algorithm"])]))}});export{me as default};
//# sourceMappingURL=Sorting-2BBNevjG.js.map
