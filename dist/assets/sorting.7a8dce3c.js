import{d as J,y as z,o as Y,b as C,e as O,r as m,f as h,t as V,w as H,n as U,F as Z,g as ee,u as G,j as te}from"./vendor.4e48f4c9.js";const ne={id:"canvas"},oe=J({props:{sleepTime:null,stopExecution:{type:Boolean},randomizeArray:{type:Boolean},oscillator:null,numberOfRectangles:null,sortingMethod:null},emits:["randomizeArrayDone","sortingMethodEnded","audioForRandomizing","sortingMethodStarted","sortingMethodEndedBools","sortingMethodStartedBools","beep"],setup(Q,{emit:d}){const a=Q;let u,r,n=[],y=0;z(()=>a.randomizeArray,async e=>{e&&(d("sortingMethodStartedBools"),d("audioForRandomizing"),u.fillStyle="#303030",u.fillRect(0,0,r.width,r.height),u.fillStyle="#0F0",R(),await E(),a.oscillator.disconnect(),d("sortingMethodEndedBools"),d("randomizeArrayDone"))}),z(()=>a.sortingMethod,async e=>{switch(d("sortingMethodStarted"),e){case"Bubble":await j();break;case"Cocktail Shaker":await A();break;case"Heap":await f();break;case"Insertion":await I();break;case"Merge":n=await q(n);break;case"Quick":await x(0,n.length-1);break;case"Selection":await F();break;case"Shell":await D();break;case"Gnome":await L();break}d("sortingMethodEnded")}),Y(async()=>{d("sortingMethodStartedBools"),r=document.getElementById("canvas"),r.setAttribute("height",String(window.innerHeight-64)),r.setAttribute("width",String(window.innerWidth-300)),u=r.getContext("2d"),S(),u.fillStyle="#0F0",R(),await E(),d("sortingMethodEndedBools")});function S(){r.setAttribute("height",String(Number(getComputedStyle(r).getPropertyValue("height").slice(0,-2))*window.devicePixelRatio)),r.setAttribute("width",String(Number(getComputedStyle(r).getPropertyValue("width").slice(0,-2))*window.devicePixelRatio))}function M(e,t){[n[e].x,n[t].x,n[e].frequency,n[t].frequency,n[e],n[t]]=[n[t].x,n[e].x,n[t].frequency,n[e].frequency,n[t],n[e]]}function R(){n=[];const e=r.width/Number(a.numberOfRectangles),t=r.height/Number(a.numberOfRectangles),o=100,b=1e4/Number(a.numberOfRectangles);for(let s=0;s<Number(a.numberOfRectangles);s++)n.push({x:e*s,y:r.height-t*(s+1),width:e-1,height:t*(s+1),frequency:b*s+o});for(let s=0;s<Number(a.numberOfRectangles)*10;s++)c()}function c(){const e=Math.floor(Math.random()*Number(a.numberOfRectangles));let t=0;do t=Math.floor(Math.random()*Number(a.numberOfRectangles));while(e===t);M(e,t)}async function E(){for(let e=0;e<a.numberOfRectangles;e++)await p(e)}async function w(e,t){B(e),B(t),M(e,t),await _(e),await _(t)}async function p(e){u.fillRect(n[e].x,n[e].y,n[e].width,n[e].height),await T(Number(a.sleepTime))}function B(e){u.fillStyle="#303030",u.fillRect(n[e].x-1,n[e].y-1,n[e].width+2,n[e].height+2),u.fillStyle="#0F0"}function v(e){u.fillStyle="#303030",u.fillRect(e.x-1,e.y-1,e.width+2,e.height+2),u.fillStyle="#0F0"}async function _(e){d("beep",n[e].frequency),await p(e)}function T(e){return new Promise(t=>setTimeout(t,e))}async function j(){const e=n.length;let t=!1,o=0,i=0;do for(o++,t=!1,i=0;i<e-o;i++){if(a.stopExecution)return;n[i].height>n[i+1].height&&(await w(i,i+1),t=!0)}while(t)}async function I(){const e=n.length;let t=0,o;for(let i=1;i<e;i++){for(o=n[i],t=i-1;t>=0&&n[t].height>o.height;t--){if(a.stopExecution)return;await w(t,t+1)}n[t+1]=o}}async function F(){let e=0,t=0;for(let o=0;o<n.length;o++){for(e=o,t=o+1;t<n.length;t++){if(a.stopExecution)return;n[t].height<n[e].height&&(e=t)}e!==o&&await w(o,e)}}async function A(){let e=!1,t=0;for(;!e;){for(e=!0;t<n.length-1;){if(a.stopExecution)return;n[t].height>n[t+1].height&&(await w(t,t+1),e=!1),t++}if(e)break;for(e=!0;t>0;){if(a.stopExecution)return;n[t-1].height>n[t].height&&(await w(t,t-1),e=!1),t--}}}async function x(e,t){y=await N(e,t),!a.stopExecution&&(e<y-1&&await x(e,y-1),y<t&&await x(y,t))}async function N(e,t){const o=n[Math.floor((t+e)/2)];for(;e<=t;){if(a.stopExecution)return 0;for(;n[e].height<o.height;)e++;for(;n[t].height>o.height;)t--;e<=t&&(await w(e,t),e++,t--)}return e}async function q(e){if(a.stopExecution)return[];if(e.length<2)return e;const t=Math.floor(e.length/2);return k(await q(e.slice(0,t)),await q(e.slice(t)))}async function k(e,t){const o=[];let i=0,b=0;for(;i<e.length&&b<t.length;)e[i].height<t[b].height?(o.push(e[i]),i++):(o.push(t[b]),b++);const s=[...o,...e.slice(i),...t.slice(b)],P=s.map(l=>(v(l),{x:l.x,frequency:l.frequency})).sort((l,$)=>l.x-$.x);for(let l=0;l<P.length;l++)s[l].x=P[l].x,s[l].frequency=P[l].frequency;const W=[],X=s.map(l=>l.height);for(const l of X)W.push(n.findIndex($=>$.height===s[X.findIndex(K=>K===l)].height));for(let l=0;l<s.length;l++){if(a.stopExecution)return[];await _(W[l])}return s}async function f(){for(let e=Math.floor(n.length/2-1);e>=0;e--){if(a.stopExecution)return;await g(n.length,e)}for(let e=n.length-1;e>=0;e--){if(a.stopExecution)return;await w(0,e),await g(e,0)}}async function g(e,t){let o=t;const i=2*t+1,b=2*t+2;a.stopExecution||(i<e&&n[i].height>n[o].height&&(o=i),b<e&&n[b].height>n[o].height&&(o=b),o!=t&&(await w(t,o),await g(e,o)))}async function D(){let e=0,t=0;for(let o=Math.floor(n.length/2);o>0;o=Math.floor(o/2))for(t=o;t<n.length;t+=1){const i=n[t];for(e=t;e>=o&&n[e-o].height>i.height;e-=o){if(a.stopExecution)return;await w(e,e-o)}n[e].x=i.x,n[e]=i}}async function L(){for(let e=1;e<n.length;e++)if(n[e-1].height>n[e].height)for(;e>0&&n[e-1].height>n[e].height;)await w(e,e-1),e--}return(e,t)=>(C(),O("canvas",ne))}}),ae={class:"flex"},ie={class:"flex flex-col justify-center items-center gap-2"},le={class:"flex gap-1 justify-center"},re=["disabled"],se=["disabled"],ue={class:"flex flex-col justify-center items-center"},ce={for:"range-1"},he={for:"range-2"},de={for:"range-3"},fe=["disabled"],ge={class:"flex flex-wrap justify-center gap-1"},pe=["disabled","onClick"],me=J({setup(Q){const d=m(0),a=m(.025),u=m(!1),r=m(!1),n=m(!0),y=m(100),S=m(!1),M=m(!1),R=m(!1),c=m(),E=m(""),w=m(["Bubble","Insertion","Cocktail Shaker","Selection","Merge","Quick","Heap","Shell","Gnome"]);let p,B=!1,v;z(y,()=>{x(),S.value=!0}),z(a,()=>{x(),S.value?(c.value.disconnect(),v.gain.setValueAtTime(a.value,p.currentTime),c.value.connect(v).connect(p.destination)):v.gain.setValueAtTime(a.value,p.currentTime)});async function _(){u.value=!0,c.value.disconnect(),await T(500),u.value=!1,c.value.disconnect(),A()}function T(k){return new Promise(f=>setTimeout(f,k))}function j(){x(),c.value.connect(v).connect(p.destination),F()}function I(){E.value="",c.value.disconnect(),A()}function F(){R.value=!0,M.value=!0,S.value=!0,n.value=!1}function A(){R.value=!1,M.value=!1,S.value=!1,n.value=!0}function x(){B||(p=new AudioContext,v=new GainNode(p,{gain:a.value}),c.value=new OscillatorNode(p,{type:"sine",frequency:500}),c.value.start(),c.value.connect(p.destination),c.value.disconnect(),B=!0)}function N(k){c.value.frequency.setValueAtTime(k,p.currentTime)}function q(){x(),c.value.connect(v).connect(p.destination),N(300)}return(k,f)=>(C(),O("div",ae,[h("div",ie,[h("div",le,[h("button",{class:"tw-button h-[50px] w-[130px] p-0",disabled:n.value,onClick:_}," Stop Execution ",8,re),h("button",{class:"tw-button h-[50px] w-[130px] p-0",disabled:M.value,onClick:f[0]||(f[0]=g=>r.value=!0)}," Randomize ",8,se)]),h("div",ue,[h("div",null,[h("label",ce," Volume: "+V(parseFloat((a.value*5*100).toFixed(1)))+"% ",1),H(h("input",{id:"range-1","onUpdate:modelValue":f[1]||(f[1]=g=>a.value=g),class:"w-64 h-6 bg-transparent",type:"range",min:"0",max:"0.2",step:"0.0001"},null,512),[[U,a.value]])]),h("div",null,[h("label",he,"Add extra Delay of: "+V(d.value)+"ms",1),H(h("input",{id:"range-2","onUpdate:modelValue":f[2]||(f[2]=g=>d.value=g),class:"w-64 h-6 bg-transparent",type:"range",min:"0",max:"250",step:"5"},null,512),[[U,d.value]])]),h("div",null,[h("label",de,V(y.value)+" Rectangles ",1),H(h("input",{id:"range-3","onUpdate:modelValue":f[3]||(f[3]=g=>y.value=g),class:"w-64 h-6 bg-transparent",type:"range",min:"10",max:"1000",step:"5",disabled:R.value},null,8,fe),[[U,y.value]])])]),h("div",ge,[(C(!0),O(Z,null,ee(G(w),(g,D)=>(C(),O("button",{key:D,class:"tw-button h-[50px] w-[130px] p-0",disabled:S.value,onClick:L=>E.value=g},V(g),9,pe))),128))])]),te(oe,{"sleep-time":d.value,oscillator:G(c),"sorting-method":G(E),"stop-execution":u.value,"randomize-array":r.value,"number-of-rectangles":y.value,onSortingMethodStartedBools:F,onSortingMethodEndedBools:A,onSortingMethodStarted:j,onAudioForRandomizing:q,onSortingMethodEnded:I,onRandomizeArrayDone:f[4]||(f[4]=g=>r.value=!1),onBeep:N},null,8,["sleep-time","oscillator","sorting-method","stop-execution","randomize-array","number-of-rectangles"])]))}});export{me as default};
